# Grab the build environment
Import('x86_64_env')
env    = x86_64_env

kernel_obj  = SConscript('boot/SConscript',         exports='x86_64_env')
kernel_obj += SConscript('dev/SConscript',          exports='x86_64_env')
kernel_obj += SConscript('interrupt/SConscript',    exports='x86_64_env')
kernel_obj += SConscript('mem/SConscript',          exports='x86_64_env')

kernel = x86_64_env.Link('kernel', kernel_obj, LINKSCRIPTS = ['link/linker.ld'], _LIBDIRFLAGS = '-L../triton', _LIBFLAGS = '-lgphobos')

Return('kernel')
